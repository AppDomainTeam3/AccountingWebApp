<html>
    <head>
        <title>{{ title }} - AppDomain</title>
    </head>
    
    <body>
        <div class="topnav">
            <a href="/">Home</a>
            <a href="/users">Users</a>
            <a href="/add-user">Create User</a>
          </div>
        <h1>Enter new user data:</h1>
        <form id="UserCreationForm" action="" method="POST" novalidate>
            <p>
                {{ form.username.label }}<br>
                {{ form.username(size=16) }}<br>
            </p>
            <p>
                {{ form.usertype.label }}<br>
                {{ form.usertype }}<br>
            </p>
            <p>
                {{ form.firstname.label }}<br>
                {{ form.firstname(size=16) }}<br>
            </p>
            <p>
                {{ form.lastname.label }}<br>
                {{ form.lastname(size=16) }}<br>
            </p>
            <p>
                {{ form.avatarlink.label }}<br>
                {{ form.avatarlink(size=16) }}<br>
            </p>
            <p>{{ form.submit() }}</p>
        </form>

        <script type=text/javascript src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            $('#UserCreationForm').submit(function(e){
                e.preventDefault();
                $.ajax({
                    url: api + '/users/create-user',
                    type: 'post',
                    data:$('#UserCreationForm').serialize(),
                    success: function(data) { console.log("Success!!"); }
                });
            });
        </script>
    </body>
</html>
